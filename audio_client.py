import socket
import sounddevice as sd
from scipy.io.wavfile import write


def read_file():
	s=socket.socket()
	ip='192.168.2.2'
	port=7777
	s.connect((ip,port))
	print("Sending audio..")

	with open('output.wav', 'rb') as video:
		buffer = video.read()

		s.sendall(buffer)

	print("Done sending..")
	s.close()
	
	
def audio_capture(sec):

	fs = 44100  # Sample rate
	seconds = int(sec)  # Duration of recording

	myrecording = sd.rec(int(seconds * fs), samplerate=fs, channels=2)
	sd.wait()  # Wait until recording is finished
	write('output.wav', fs, myrecording)  # Save as WAV file 
	read_file()




